FROM node:20-alpine

WORKDIR /app

COPY infra/docker/c2-router-mock/package.json ./package.json
RUN npm install --omit=dev

COPY infra/docker/c2-router-mock/server.js ./server.js
COPY crates/c2-router/proto/c2.proto ./proto/c2.proto

ENV PORT=50051
EXPOSE 50051

CMD ["node", "server.js"]
